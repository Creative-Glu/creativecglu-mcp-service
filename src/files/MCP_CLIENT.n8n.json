{
  "name": "MCP Client",
  "nodes": [
    {
      "parameters": {
        "content": "## Contacts",
        "height": 260,
        "width": 960
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        4640,
        1160
      ],
      "typeVersion": 1,
      "id": "0caba65d-46b2-4dac-b47b-ed942a725c68",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## Company",
        "height": 260,
        "width": 960,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        5640,
        1160
      ],
      "typeVersion": 1,
      "id": "fc89abd4-0a8c-43e7-bb2e-73f874e36db1",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "toolDescription": "Retrieve a list of HubSpot contacts by applying optional filters such as `limit`, `email`, `firstname`, `lastname`, and `phone`. These filters allow you to refine the search results to match specific criteria, making it easier to locate the desired contacts.",
        "url": "http://35.170.240.97/api/v1/hubspot/contacts",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "firstname",
              "value": "={{ $fromAI('firstname', 'Provide the first name to filter contacts. This field is optional.', 'string') }}"
            },
            {
              "name": "lastname",
              "value": "={{ $fromAI('lastname', 'Provide the last name to filter contacts. This field is optional.', 'string') }}"
            },
            {
              "name": "email",
              "value": "={{ $fromAI('email', 'Provide a valid email address to filter contacts. This field is optional.', 'string') }}"
            },
            {
              "name": "phone",
              "value": "={{ $fromAI('phone', 'Provide a valid phone number to filter contacts. This field is optional.', 'string') }}"
            },
            {
              "name": "limit",
              "value": "={{ $fromAI('limit', 'Specify the maximum number of contacts to retrieve. This field is optional.', 'number') }}"
            }
          ]
        },
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "options": {},
        "optimizeResponse": true
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        4720,
        1240
      ],
      "id": "39a183d7-6f30-4648-af37-0250ad1bf77d",
      "name": "Fetch HubSpot Contacts"
    },
    {
      "parameters": {
        "toolDescription": "Retrieve a specific Hubspot contact by its unique `contactId`.",
        "url": "=http://35.170.240.97/api/v1/hubspot/contacts/{{ $fromAI('contactId', 'Id of the contact', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2'\n }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        4900,
        1240
      ],
      "id": "22124dfa-1029-402e-a7e7-533d0523c0bf",
      "name": "Fetch Hubspot Contact by ID"
    },
    {
      "parameters": {
        "toolDescription": "Create a new Hubspot contact using the provided details, such as `email`, `firstname`, `lastname`, and other optional fields like `phone` and `companyId`.",
        "method": "POST",
        "url": "http://35.170.240.97/api/v1/hubspot/contacts",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2'\n }}\"\n}",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "firstname",
              "value": "={{ $fromAI('firstname', `This field is required`, 'string') }}"
            },
            {
              "name": "lastname",
              "value": "={{ $fromAI('lastname', `This is required`, 'string') }}"
            },
            {
              "name": "email",
              "value": "={{ $fromAI('email', `This is required and must be in a valid email format.`, 'string') }}"
            },
            {
              "name": "=phone",
              "value": "={{ $fromAI('phone', `This field is optional but must follow a valid phone number format if provided`, 'string') }}"
            },
            {
              "name": "companyId",
              "value": "={{ $fromAI('companyId', `This field is optional and indicates the associated company using the provided companyId`, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        5080,
        1240
      ],
      "id": "c46ed47f-f580-45da-91c5-53250350c351",
      "name": "Create a Hubspot Contact"
    },
    {
      "parameters": {
        "toolDescription": "Update an existing Hubspot contact identified by its unique `contactId`. All details such as `email`, `firstname`, `lastname`, `phone`, and `companyId` are optional.",
        "method": "PUT",
        "url": "=http://35.170.240.97/api/v1/hubspot/contacts/{{ $fromAI('contactId', 'Provide the unique ID of the contact to update.', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2'\n }}\"\n}",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "firstname",
              "value": "={{ $fromAI('firstname', `Provide the updated first name of the contact (optional).`, 'string') }}"
            },
            {
              "name": "lastname",
              "value": "={{ $fromAI('lastname', `Provide the updated last name of the contact (optional).`, 'string') }}"
            },
            {
              "name": "email",
              "value": "={{ $fromAI('email', `Provide the updated email address of the contact (optional, must be valid).`, 'string') }}"
            },
            {
              "name": "phone",
              "value": "={{ $fromAI('phone', `Provide the updated phone number of the contact (optional, must be valid).`, 'string') }}"
            },
            {
              "name": "companyId",
              "value": "={{ $fromAI('companyId', `Provide the associated company ID for the contact (optional).`, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        5260,
        1240
      ],
      "id": "204153a3-1ccb-479c-9df7-ff80abe94eb3",
      "name": "Update a Hubspot Contact"
    },
    {
      "parameters": {
        "toolDescription": "Delete a HubSpot contact by providing its unique `contactId`. This action permanently removes the contact from the system.",
        "method": "DELETE",
        "url": "=http://35.170.240.97/api/v1/hubspot/contacts/{{ $fromAI('contactId', 'Enter the unique ID of the contact to delete.', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        5440,
        1240
      ],
      "id": "5ca046ab-d33f-41cd-bbe2-38094f08391b",
      "name": "Delete HubSpot Contact"
    },
    {
      "parameters": {
        "path": "1ca57807-5520-4c8e-95d1-36f08dabef07"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 1,
      "position": [
        5460,
        740
      ],
      "id": "d42ebddd-66da-471f-8932-089a3f0abdae",
      "name": "MCP Server Trigger",
      "webhookId": "1ca57807-5520-4c8e-95d1-36f08dabef07"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "** You are a CRM Assistant. **"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        4080,
        740
      ],
      "id": "d2ceff88-a551-46de-ac14-bd794f65d946",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        3960,
        980
      ],
      "id": "4ea5e71e-c6da-42a8-bd09-dba04f8247d1",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "DLJqYifNhv5adxi8",
          "name": "OPENAI_KEY (jcocjin)"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        3800,
        740
      ],
      "id": "c1e23f7e-825b-42fc-8da8-2e08dd324e63",
      "name": "When chat message received",
      "webhookId": "d37cc237-86ed-4e0a-aa4a-27ba5070bbdc"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        4180,
        980
      ],
      "id": "dbbe10b4-31ef-421e-aa77-61100faeb16a",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "sseEndpoint": "https://creativeglu.app.n8n.cloud/mcp/1ca57807-5520-4c8e-95d1-36f08dabef07/sse"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1,
      "position": [
        4400,
        980
      ],
      "id": "a4de7450-6319-4e53-b75a-3f8d2dfff964",
      "name": "MCP Client"
    },
    {
      "parameters": {
        "content": "## MCP Testing",
        "height": 500,
        "width": 860,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3720,
        660
      ],
      "typeVersion": 1,
      "id": "eaa3a32b-ff2f-42fc-b7b1-c41f290eccfd",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "toolDescription": "'Retrieve a list of Hubspot companies with optional filters like `limit`, `name` and `domain` and `phone`.',\n",
        "url": "http://35.170.240.97/api/v1/hubspot/companies",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ $fromAI('name', `Enter the company name to filter the results. This field is optional.`, 'string') }}"
            },
            {
              "name": "domain",
              "value": "={{ $fromAI('domain', `Enter the company's domain to filter the results. This field is optional and should be a valid URL.`, 'string') }}"
            },
            {
              "name": "phone",
              "value": "={{ $fromAI('phone', `Enter the company's phone number to filter the results. This field is optional and should be a valid phone number.`, 'string') }}"
            },
            {
              "name": "limit",
              "value": "={{ $fromAI('limit', `Specify the maximum number of companies to retrieve. This field is optional.`, 'number') }}"
            }
          ]
        },
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        5720,
        1240
      ],
      "id": "e543d39f-0241-4eba-be8a-ff2bec6b1a53",
      "name": "Fetch HubSpot Companies"
    },
    {
      "parameters": {
        "toolDescription": "Fetch detailed information about a specific HubSpot company using its unique `companyId`. This endpoint retrieves all available data associated with the company.",
        "url": "=http://35.170.240.97/api/v1/hubspot/companies/{{ $fromAI('companyId', 'Enter the unique ID of the company to fetch details for. This field is required.', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        5900,
        1240
      ],
      "id": "4f5b7c01-32ea-488b-91b4-6f8de052b55b",
      "name": "Fetch HubSpot Company Details"
    },
    {
      "parameters": {
        "toolDescription": "Add a new company to your HubSpot account by providing the required `name` field and optional details such as `domain` and `phone`. Ensure the provided information is accurate to maintain data integrity.",
        "method": "POST",
        "url": "http://35.170.240.97/api/v1/hubspot/companies",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ $fromAI('name', `This field is required`, 'string') }}"
            },
            {
              "name": "domain",
              "value": "={{ $fromAI('domain', `This is optional and must be in a valid url format.`, 'string') }}"
            },
            {
              "name": "phone",
              "value": "={{ $fromAI('phone', `This field is optional but must follow a valid phone number format if provided.`, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        6080,
        1240
      ],
      "id": "48722c3a-3edf-4bca-b318-f6077e6d4c8d",
      "name": "Create a HubSpot Company"
    },
    {
      "parameters": {
        "toolDescription": "Update an existing HubSpot company by providing its unique `companyId`. All fields such as `name`, `domain`, and `phone` are optional.",
        "method": "POST",
        "url": "=http://35.170.240.97/api/v1/hubspot/companies/{{ $fromAI('companyId', 'Enter the unique ID of the company to update. This field is required.', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ $fromAI('name', `Enter the updated name of the company. This field is optional.`, 'string') }}"
            },
            {
              "name": "domain",
              "value": "={{ $fromAI('domain', `Enter the updated domain of the company. This field is optional but must be a valid URL.`, 'string') }}"
            },
            {
              "name": "phone",
              "value": "={{ $fromAI('phone', `Enter the updated phone number of the company. This field is optional but must be a valid phone number.`, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        6260,
        1240
      ],
      "id": "7a6a31ee-de31-48e7-a2a7-a39060bbcf6a",
      "name": "Update a HubSpot Company"
    },
    {
      "parameters": {
        "toolDescription": "Permanently delete an existing HubSpot company by providing its unique `companyId`. This action cannot be undone.",
        "method": "DELETE",
        "url": "=http://35.170.240.97/api/v1/hubspot/companies/{{ $fromAI('companyId', 'Enter the unique ID of the company to delete. This field is required.', 'string') }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "={\n  \"Authorization\": \"Bearer {{ '9a8f70ec2e4e90d3c83c4dd14e7b7281b8c6217a7d48b6a7ce99cd6c1a94f8c2' }}\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        6440,
        1240
      ],
      "id": "d5d722a4-6492-4355-9711-d24724c48445",
      "name": "Delete HubSpot Company"
    }
  ],
  "pinData": {},
  "connections": {
    "Fetch Hubspot Contact by ID": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create a Hubspot Contact": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update a Hubspot Contact": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete HubSpot Contact": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Fetch HubSpot Contacts": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Fetch HubSpot Companies": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Fetch HubSpot Company Details": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create a HubSpot Company": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update a HubSpot Company": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete HubSpot Company": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c244e6f4-cc25-4674-be7e-f7eaaac92ce3",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0d39019f778e791afbaadc193ebfddb9176008ec8cfebeb3b3f8b35138bc1ea0"
  },
  "id": "3YHwBYrdvbZ7xExI",
  "tags": []
}